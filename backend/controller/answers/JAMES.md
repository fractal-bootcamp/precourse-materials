# CONTROLLER

## QUESTIONS

- What is a status code? What are the most common status codes?
  - aren't status codes like 200, 300, 400 and 500? 200s are all good, 400 is error like 404?
  - update: I can be more specific, 200 is OK, 404 is not found and 500 is internal server error. 300's are redirections. 400 is a client error where the 500 code is a server error.
  - HTTP status codes are standardized responses used by web servers to indicate the outcome of a client's request. The most common status codes are:

    - `200 OK`: The request has succeeded. The meaning of the success depends on the HTTP method: GET (resource retrieved), POST (resource altered or created), etc.
    - `301 Moved Permanently`: This and other 300-series codes are used for URL redirection. The client is directed to a different URL.
    - `404 Not Found`: This indicates that the requested resource could not be found on the server.
    - `500 Internal Server Error`: This code suggests that the server encountered an unexpected condition that prevented it from fulfilling the request.

    These codes help clients understand the context of a response. For example:

    ```http
    GET /index.html HTTP/1.1
    Host: www.example.com

    HTTP/1.1 200 OK
    Content-type: text/html

    [HTML content here]


- What is JSON? What is XML? Why do we use them?
  - JSON is a data object design pattern used for requests and responses from a client to a server. XML is a type of markup language. We use them for requests and responses to structure the data in a readable way and for easy use in a CRUD application.
  - update: JSON is lightweight and easy-to-parse format, XML has an extensive feature set and suitability in complex document structures.
  - What is JSON? What is XML? Why do we use them?

    **Updated Answer:**
    ```markdown
    JSON (JavaScript Object Notation) and XML (eXtensible Markup Language) are formats for structuring data exchanged between clients and servers. JSON is often preferred for its ease of use and efficiency, being both easy to read and write. XML is more robust, supporting complex document structures and metadata.

    Here are examples of both:

    **JSON Example:**
    ```json
    {
      "firstName": "John",
      "lastName": "Doe",
      "age": 30
    }
    ```
    ```XML
    <person>
      <firstName>John</firstName>
      <lastName>Doe</lastName>
      <age>30</age>
    </person>

    ```



- What is a http request? A http response?
  - http stands for hyper text transfer protocol, it's how we communicate over the internet and it utilizes the TCP/IP protocol. I believe in http we have a header and body of the message. the request is requesting data from the server, but could be a few different types of requests like create data in the DB, read data from the DB, update data in the DB or delete data in the DB. The Response includes a header that has our status code and show if it was a successful request or if there was an error we get more information on the type of error.
  - update: requests come in the form of GET, POST, PUT, DELETE,
  - What is an HTTP request? An HTTP response?

    **Updated Answer:**
    ```markdown
    HTTP requests and responses are the fundamental means by which data is exchanged on the Internet. A request is made by a client to retrieve or modify resources on a server, and the server responds back with a status line, headers, and a body.

    **Example of an HTTP GET request and response:**

    **Request:**
    ```http
    GET /api/data HTTP/1.1
    Host: example.com
    Accept: application/json
    ```
    ```http
    HTTP/1.1 200 OK
    Content-Type: application/json
    Content-Length: 123

    {
      "data": "Here is your data."
    }
    ```


- What is middleware?
  - middleware is software that helps route requests from the client, middleware might request data from the DB or it might request data from an API. It's software that sits between the client and the DB.
  - update: middleware is software that acts as the bridge between the operating system or DB and the applications and has functions like logging, authentication, CORS, error handling, etc.
  - What is middleware?

    **Updated Answer:**
    ```markdown
    Middleware is software that connects network-based requests generated by a client to the back-end data the client is requesting. It enables various functionalities such as authentication, logging, and request management.

    **Express.js Middleware Example:**
    ```javascript
    const express = require('express');
    const app = express();

    app.use((req, res, next) => {
      console.log('Request URL:', req.originalUrl);
      next();
    });

    app.use('/api', apiRouter); // Routes all '/api' requests to a specific router

    app.listen(3000, () => console.log('Server running on port 3000'));


- What is a "controller layer"? Why do we need one?
  - when requests come in from a client or an outside server through an API service we need to understand what the request is and how to route it to the correct service. In larger applications this might even be for load balancing or finding a data store that has the bandwidth or capacity to service that request. Given some systems have thousands or even millions of requests per second and possibly high bandwidth requests like media this controller layer can prevent systems from being overloaded and correctly route traffic to the correct services in order to fulfill the requests in an orderly and acceptable manner.
  - update: the controller layer is where the application logic is located, directing incoming requests to the appropriate service or middleware and managing response flow. It's used to decouple from the business logic and user interface concerns which helps with scaling and maintaining the software.

- What is the difference between a service and a controller?
  - I believe the differece is that a controller it only a router of the request and response annd the service is the server that actually does the work to request and serve the data back to the client.
  - update: the controller receives requests from the client and decides what operation to perform. A service contains the business logic and handles the data manipulation and DB interactions. Controllers = Traffic, Service = Logic.
  - example:
  ```js
    const express = require('express');
    const userService = require('./userService'); // This is an imported service that handles the business logic

    const app = express();

    // Controller for handling GET requests to '/users'
    app.get('/users', async (req, res) => {
      try {
        const users = await userService.getAllUsers(); // The controller calls the service to get data
        res.json(users);
      } catch (error) {
        res.status(500).send('Error retrieving users');
      }
    });

    // Controller for handling GET requests to '/users/:id'
    app.get('/users/:id', async (req, res) => {
      try {
        const user = await userService.getUserById(req.params.id); // The controller uses the service to get specific user data
        if (user) {
          res.json(user);
        } else {
          res.status(404).send('User not found');
        }
      } catch (error) {
        res.status(500).send('Error retrieving user');
      }
    });

    app.listen(3000, () => console.log('Server is running on port 3000'));
  ```


- What is the client/server model? What is a client?
  - it is a part of the model view controller paradigm where the client is the end user computer, the server is the controller between the database and the client.
  - update: client server model is a distributed application strucutre that partitions workloads between providers of a service and service requesters. Clients typically initiate the communication sessions and servers wait to respond to requests.
  - best: The client/server model is a distributed application framework that divides tasks or workloads between service providers (servers) and service requesters (clients). This model enables efficient networked communications and resource sharing.

    - **Client**: A client initiates requests to servers; it consumes services provided by servers. Clients can be anything from web browsers to custom applications on a computer or mobile device.
    - **Server**: A server responds to requests from clients by providing the requested service. Servers often perform tasks like data retrieval, computation, and database management.

    **JavaScript Example Demonstrating Client-Server Interaction:**

    *Server-side code (Node.js):*
    ```javascript
    const http = require('http');

    const server = http.createServer((req, res) => {
      res.writeHead(200, {'Content-Type': 'text/plain'});
      res.end('Hello from the server!');
    });

    server.listen(8080, () => {
      console.log('Server running at http://127.0.0.1:8080/');
    });
  ```


  ```html
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Client Example</title>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                fetch('http://127.0.0.1:8080')
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById('serverResponse').textContent = data;
                    })
                    .catch(error => console.error('Error fetching data: ', error));
            });
        </script>
    </head>
    <body>
        <h1>Client-Server Communication Example</h1>
        <p>Server says: <span id="serverResponse"></span></p>
    </body>
    </html>


  ```


## RESOURCES
